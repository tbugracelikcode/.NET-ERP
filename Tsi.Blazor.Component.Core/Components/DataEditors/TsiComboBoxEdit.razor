@inherits BaseEditorParameters
@typeparam TItem

<DxGridLayoutItem Column="ColumnIndex"
                  ColumnSpan="ColumnSpan"
                  CssClass="@LayoutItemCssClass"
                  Row="RowIndex"
                  RowSpan="RowSpan"
                  Visible="Visible">
    <Template>
        @*<DxComboBox @ref="_dxComboBox"
        @bind-Value="@Value"
        CssClass="@EditorCssClass"
        Data="DataSource"
        Enabled="Enabled"
        InputCssClass="@InputCssClass"
        ReadOnly="ReadOnly"
        TextFieldName="@TextFieldName"
        SelectedItemChanged="SelectedItemChanged">
        </DxComboBox>*@

        <SfComboBox Placeholder=@Placeholder
                    DataSource="@DataSource"
                    @bind-Value="@Value"
                    CssClass="@EditorCssClass"
                    Enabled="@Enabled"
                    EnableRtl=@EnableRtl
                    Readonly=@ReadOnly
                    Autofill=@Autofill
                    ShowClearButton=@ShowClearButton
                    AllowFiltering=@AllowFiltering>

            <ComboBoxTemplates TItem="TItem">
                <HeaderTemplate>
                    @HeaderTemplate
                </HeaderTemplate>

                <ItemTemplate>
                    @ItemTemplate
                </ItemTemplate>

                <FooterTemplate>
                    @FooterTemplate
                </FooterTemplate>
            </ComboBoxTemplates>

            <ComboBoxFieldSettings Text="@TextFieldName" Value="@ValueFieldName" />

        </SfComboBox>

    </Template>
</DxGridLayoutItem>

<TsiLabel Caption="@Caption"
          ColumnIndex="ColumnIndex-2"
          CssClass="@CaptionCssClass"
          RowIndex="RowIndex"
          Visible="Visible && CaptionVisible">
</TsiLabel>

<TsiLabel Caption="@SeparateCaption"
          ColumnIndex="ColumnIndex-1"
          CssClass="@CaptionCssClass"
          RowIndex="RowIndex"
          Visible="Visible && SeparateCaptionVisible">
</TsiLabel>

@code {

    private SfComboBox<TItem, TItem> _ComboBox;

    [Parameter, EditorRequired] public IEnumerable<TItem> DataSource { get; set; }
    [Parameter] public RenderFragment ItemTemplate { get; set; }
    [Parameter] public RenderFragment HeaderTemplate { get; set; }
    [Parameter] public RenderFragment FooterTemplate { get; set; }
    [Parameter] public string TextFieldName { get; set; }
    [Parameter] public string ValueFieldName { get; set; }
    [Parameter, EditorRequired] public TItem Value { get; set; }
    [Parameter] public EventCallback<TItem> ValueChanged { get; set; }

}