@inject NavMenuService mss

@{
    mss["NavMenu"] = this;
}

<div>

    <div class="sidebar">
        <DxTreeView @ref=treeView AllowSelectNodes="true" style="min-height: 90vh;" CssClass=" app-sidebar" NodeExpandCollapseAction="TreeViewNodeExpandCollapseAction.NodeClick">

            <Nodes>
                <br />
                <br />
                <DxTreeViewNode Text="Ana Sayfa" NavigateUrl="/" IconCssClass="fa fa-warehouse" Enabled=@MainPageMenuEnabled>

                </DxTreeViewNode>

                <DxTreeViewNode Text="İş Emirleri" NavigateUrl="/work-orders" IconCssClass="fa fa-warehouse" Enabled=@WorkOrderMenuEnabled>

                </DxTreeViewNode>

                <DxTreeViewNode Text="Çıkış" @onclick="(()=>  System.Environment.Exit(0))" IconCssClass="fa fa-warehouse" Enabled=@LogoutMenuEnabled>

                </DxTreeViewNode>

                <DxTreeViewNode Text="Ayarlar" NavigateUrl="/settings" IconCssClass="fa fa-cog" Enabled=@SettingsMenuEnabled>

                </DxTreeViewNode>

            </Nodes>
        </DxTreeView>
    </div>

</div>

<style>
    .scroller {
        height: calc(100vh - 160px) !important;
        overflow-y: auto;
        width: 287px;
    }

        .scroller::-webkit-scrollbar, scrollbar-thumb
        .scroller::-webkit-scrollbar-thumb {
            width: 8px;
            height: 110px;
            border-radius: 4px;
            position: center;
        }

        .scroller::-webkit-scrollbar-thumb {
            box-shadow: inset 0 0 0 10px #313C75;
            border-radius: 4px;
        }

        .scroller::-webkit-scrollbar-track {
            width: 28px;
        }

    .separator {
        border: 1px solid #FFFFFF;
        opacity: 0.14;
        width: 247px;
        margin: 1rem;
        margin-top: 0px;
    }

    .e-sidebar li {
        list-style-type: none;
        cursor: pointer;
        color: white;
        margin-top: 5%;
    }
</style>

@code {

    public bool SidebarToggle = true;
    public bool SidebarToggleFixed = true;

    DxTreeView treeView;

    bool WorkOrderMenuEnabled = true;

    public void ChangeWorkOrderMenuEnabled(bool isEnable)
    {
        WorkOrderMenuEnabled = isEnable;
        StateHasChanged();
    }

    bool MainPageMenuEnabled = true;

    public void ChangeMainPageMenuEnabled(bool isEnable)
    {
        MainPageMenuEnabled = isEnable;
        StateHasChanged();
    }

    bool LogoutMenuEnabled = true;

    public void ChangeLogoutMenuEnabled(bool isEnable)
    {
        LogoutMenuEnabled = isEnable;
        StateHasChanged();
    }

    bool SettingsMenuEnabled = true;

    public void ChangeSettingsMenuEnabled(bool isEnable)
    {
        SettingsMenuEnabled = isEnable;
        StateHasChanged();
    }
}
